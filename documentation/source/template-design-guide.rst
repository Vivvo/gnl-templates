#####################
Template design guide
#####################

| Feel free to include any style sheets or javascript for user experience purposes.
| They will be included in your application's front end.

Login
*****

This page must contain a form with the following inputs

    - Email or Username
    - Password

Sample POST Body Object:

.. code-block:: JSON
   :linenos:

    {
        "csrf_token": "8c1807936b8753970dceb15a38850b35b4a909585bbdfa7181d4a6a9bda91b10",
        "UserNameOrEmail": "sherlock@holmes.com",
        "Password": "Elementary25!"
    }

| This page often acts as the home/landing page.
| When the user hits ``Submit`` the form will POST to ``/registration/create``.
| It usually also contains links to the ``Create Account`` and ``Forgot Password`` pages.


Create account
**************

This page must contain a form with the following inputs

    - First name
    - Last name
    - Username
    - Email
    - Password
    - Accepted Terms of use (checkbox)
    - csrf_token (hidden)


Sample POST Body Object:

.. code-block:: JSON
   :linenos:

    {
        "csrf_token": "8c1807936b8753970dceb15a38850b35b4a909585bbdfa7181d4a6a9bda91b10",
        "FirstName": "Sherlock",
        "LastName": "Holmes",
        "UserName": "SherlockH",
        "EmailAddress": "sherlock@holmes.com",
        "ConfirmEmailAddress": "sherlock@holmes.com",
        "Password": "Elementary25!",
        "ConfirmPassword": "Elementary25!",
        "AcceptTermsAndConditions": "true"
    }


Sample form inputs:

.. code-block:: HTML
   :linenos:

    Form Input Fields:
        <input type="text" maxlength="30" name="FirstName" value="" aria-label="First name">
        <input type="text" maxlength="50" name="LastName" value="" aria-label="Last name">
        <input type="text" maxlength="70" name="UserName" value="" aria-label="User name">
        <input type="email" maxlength="70" name="EmailAddress" value="" aria-label="Email Address">
        <input type="email" maxlength="70" name="ConfirmEmailAddress" value="" aria-label="Confirm Email Address">
        <input type="password" minlength="8" maxlength="128" name="Password" value="" aria-label="Password">
        <input type="password" minlength="8" maxlength="128" name="ConfirmPassword" value="" aria-label="Confirm Password">
        <input type="checkbox" name="AcceptTermsAndConditions" value="Y" aria-label="Accept terms and conditions">

    Hidden csrf token:
        <input id="csrfToken" type="hidden" name="csrf_token" value="{{ $token }}"/>



As long as the form has name attributes on each input, and the form's action is set to
``/registration/create``
, then we will populate the ``csrf_token`` input, and create an account with the given details on submit.


| **Note** that in order to protect against `cross-site request forgery <https://portswigger.net/web-security/csrf>`_, we require a ``csrf_token``.
| This token is generated by our application, attached to user sessions, and must accompany relevant requests in order to avoid a csrf error.


Email Template
**************

| After submitting the ``Create Account`` form, the user will receive an invitation to activate their account.
| The invitation is html driven, and highly customizable.

Sample template:

.. code-block:: HTML
   :linenos:

   <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
   <style>main {font-family: 'Source Sans Pro', sans-serif;}</style>
   <header style="clear: both;">
       <img style="float:right;" src=""/>
   </header>
   <main style="clear: both;">
       <div style="margin-top:35px;display: inline-block;">
           <p>Hi $firstName,</p>
           <p>You recently created an account.</p>
           <p><a href="$activationLink">Click this link to sign in and activate your account.</a></p>
           <p>If the above link is not clickable, copy and paste this link into your web browser's address bar:</p>
           <p>$activationLink</p>
       </div>
   </main>

.. image:: ./images/email-sample.png
    :align: center
    :alt: Email sample



Email sent
**********

This page generally directs users to check their emails for an invitation to the website.

This page can optionally display the email address that the invitation has been sent to, as well as other account details.


Email verified (optional)
*************************

| In the invitation in the email, you have the option of supplying a ``goto`` link.
| The user will be redirected to the ``goto`` link after verifying their account.

| This ``Email Verified`` page generally tells the user that their account has been verified successfully, and offers a link to the login page.
| You can also omit the ``Email Verified`` page, leave the ``goto`` link blank, and the user will land on ``Login`` instead.
